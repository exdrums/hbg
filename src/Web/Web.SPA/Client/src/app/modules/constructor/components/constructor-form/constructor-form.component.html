<div class="constructor-form">
  <div class="form-header">
    <h3>Jewelry Configuration</h3>
    <p class="subtitle">Configure the parameters for your jewelry design</p>
  </div>

  <dx-form
    [(formData)]="formData"
    [colCount]="1"
    labelLocation="top"
    (onFieldDataChanged)="onFieldChanged()">

    <dxi-item
      dataField="material"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: materials,
        searchEnabled: true,
        placeholder: 'Select material'
      }">
      <dxi-validation-rule type="required" message="Material is required"></dxi-validation-rule>
      <dxo-label text="Material"></dxo-label>
    </dxi-item>

    <dxi-item
      dataField="gemstone"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: gemstones,
        searchEnabled: true,
        placeholder: 'Select gemstone'
      }">
      <dxo-label text="Gemstone"></dxo-label>
    </dxi-item>

    <dxi-item
      dataField="style"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: styles,
        searchEnabled: true,
        placeholder: 'Select style'
      }">
      <dxi-validation-rule type="required" message="Style is required"></dxi-validation-rule>
      <dxo-label text="Style"></dxo-label>
    </dxi-item>

    <dxi-item
      dataField="finish"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: finishes,
        searchEnabled: true,
        placeholder: 'Select finish'
      }">
      <dxi-validation-rule type="required" message="Finish is required"></dxi-validation-rule>
      <dxo-label text="Finish"></dxo-label>
    </dxi-item>

    <dxi-item
      dataField="aspectRatio"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: aspectRatios,
        displayExpr: 'text',
        valueExpr: 'value',
        placeholder: 'Select aspect ratio'
      }">
      <dxi-validation-rule type="required" message="Aspect ratio is required"></dxi-validation-rule>
      <dxo-label text="Image Aspect Ratio"></dxo-label>
    </dxi-item>

    <dxi-item
      dataField="notes"
      editorType="dxTextArea"
      [editorOptions]="{
        height: 100,
        placeholder: 'Add any additional notes or special requirements...'
      }">
      <dxo-label text="Additional Notes"></dxo-label>
    </dxi-item>
  </dx-form>

  <div class="form-actions">
    <dx-button
      text="Generate Image"
      type="success"
      stylingMode="contained"
      [width]="'100%'"
      icon="plus"
      [disabled]="loading"
      (onClick)="onGenerateClick()">
    </dx-button>
  </div>

  <div class="form-info" *ngIf="loading">
    <div class="info-message">
      <i class="dx-icon dx-icon-clock"></i>
      <span>Generating your jewelry design... This may take a few moments.</span>
    </div>
  </div>
</div>
