<div class="image-gallery">
  <div class="gallery-header">
    <h3>Generated Images</h3>
  </div>

  <dx-load-panel
    [visible]="loading"
    [showIndicator]="true"
    [showPane]="true"
    message="Generating image...">
  </dx-load-panel>

  <div *ngIf="images.length > 0 && !loading" class="gallery-content">
    <dx-gallery
      [dataSource]="images"
      [height]="400"
      [loop]="true"
      [showNavButtons]="true"
      [showIndicator]="true"
      [(selectedIndex)]="selectedIndex"
      [animationEnabled]="true">
      <div *dxTemplate="let image of 'item'">
        <div class="gallery-item">
          <img [src]="image.fileServiceUrl" [alt]="image.fileName" />
        </div>
      </div>
    </dx-gallery>

    <div class="image-info" *ngIf="images[selectedIndex]">
      <div class="info-row">
        <span class="label">Generated:</span>
        <span class="value">{{ formatDate(images[selectedIndex].generatedAt) }}</span>
      </div>
      <div class="info-row">
        <span class="label">Aspect Ratio:</span>
        <span class="value">{{ images[selectedIndex].aspectRatio }}</span>
      </div>
      <div class="info-row prompt">
        <span class="label">Prompt:</span>
        <span class="value">{{ images[selectedIndex].generationPrompt }}</span>
      </div>
      <dx-button
        text="Download"
        icon="download"
        type="normal"
        [width]="'100%'"
        (onClick)="downloadImage(images[selectedIndex])">
      </dx-button>
    </div>
  </div>

  <div *ngIf="images.length === 0 && !loading" class="empty-state">
    <div class="empty-icon">ðŸŽ¨</div>
    <p class="empty-text">No images generated yet</p>
    <p class="empty-subtext">Use the configuration form or chat to create your first jewelry design</p>
  </div>
</div>
