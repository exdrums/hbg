<dx-popup *ngFor="let context of stack$ | async"
  class="hbg-popup" position="center"
  [width]="context.width"
  [maxWidth]="context.maxWidth"
  [minWidth]="context.minWidth"
  [height]="context.height"
  [maxHeight]="context.maxHeight"
  [minHeight]="context.minHeight"
  [dragEnabled]="context.dragEnabled"
  [resizeEnabled]="context.resizeEnabled"
  [fullScreen]="context.fullScreen"
  [showTitle]="context.showTitle"
  [showCloseButton]="context.showCloseButton"
  [title]="context.title"
  [shading]="true"
  [visible]="true"
  (onInitialized)="context.popupInitialised($event)"
  (onHiding)="context.defaultClosed()">

  <div [class.flex-height]="context.height">
    <div [class.flex-height-content]="context.height">
      <hbg-popup-content [context]="context"></hbg-popup-content>
    </div>
  </div>

  <!-- TODO: Implement popup toolbar functionality -->
</dx-popup>
